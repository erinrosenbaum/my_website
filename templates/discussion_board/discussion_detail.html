{% extends 'base.html' %}

{% block title %}Detail{% endblock %}

{% block content %}
<div class="m-3">
  <div class="article-entry">
    <h1>{{ object.title }}</h1>
    <p>by {{ object.author }} | {{ object.date }}</p>
    <p>{{ object.body }}</p>
  </div>
  <p><a class="btn btn-outline-info" href="{% url 'discussion_edit' discussion.pk %}">Edit</a>  <a class="btn btn-outline-warning" href="{% url 'discussion_delete' discussion.pk %}">Delete</a></p>

  <h2>{{ discussion.comments.count }} Comment{{ discussion.comments.count|pluralize }}</h2>

  {% for comment in discussion.comments.all %}
    <p><span class="font-weight-bold">{{ comment.author }} &middot;</span> {{ comment }} <a class="ml-2 btn btn-outline-warning btn-sm" href="{% url 'comment_delete' comment.pk %}">delete</a></p>
  {% endfor %}
  <a class="btn btn-outline-info text-right" href="{% url 'comment_new' discussion.pk %}">New comment</a>
  <p class="mt-3"><a href="{% url 'discussion_list' %}">Back to discussion board</a></p>
</div>
{% endblock %}
